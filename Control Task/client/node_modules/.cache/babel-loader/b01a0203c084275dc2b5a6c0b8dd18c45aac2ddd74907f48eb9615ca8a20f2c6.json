{"ast":null,"code":"import _slicedToArray from\"C:/Users/Artiem/source/repos/vscode/3 \\u043A\\u0443\\u0440\\u0441/Control Task/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{loginUser,checkIsAuth}from\"../redux/features/auth/authSlice\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LoginPage=function LoginPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useSelector=useSelector(function(state){return state.auth;}),status=_useSelector.status;var dispatch=useDispatch();var navigate=useNavigate();var isAuth=useSelector(checkIsAuth);useEffect(function(){if(status)toast(status);if(isAuth)navigate('/');},[status,isAuth,navigate]);var handleSubmit=function handleSubmit(){try{dispatch(loginUser({username:username,password:password}));}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\",/*#__PURE__*/_jsx(\"input\",{type:\"Username\",value:username,onChange:function onChange(e){return setUserName(e.target.value);},placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\",/*#__PURE__*/_jsx(\"input\",{type:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\"})]})]});};","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useDispatch","useSelector","loginUser","checkIsAuth","toast","jsx","_jsx","jsxs","_jsxs","LoginPage","_useState","_useState2","_slicedToArray","username","setUserName","_useState3","_useState4","password","setPassword","_useSelector","state","auth","status","dispatch","navigate","isAuth","handleSubmit","error","console","log","onSubmit","e","preventDefault","children","type","value","onChange","target","placeholder","onClick","to"],"sources":["C:/Users/Artiem/source/repos/vscode/3 курс/Control Task/client/src/pages/LoginPage.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {Link, useNavigate} from \"react-router-dom\"\r\nimport { useDispatch, useSelector} from \"react-redux\";\r\nimport { loginUser, checkIsAuth } from \"../redux/features/auth/authSlice\";\r\nimport {toast} from \"react-toastify\"\r\n\r\nexport const LoginPage = () => {\r\n    const [username,setUserName]=useState('')\r\n    const [password,setPassword]=useState('')\r\n    const { status } = useSelector((state) => state.auth)\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const isAuth = useSelector(checkIsAuth)\r\n\r\n    useEffect(()=>{\r\n        if(status) toast(status)\r\n        if(isAuth) navigate('/')    \r\n    }, [status, isAuth, navigate])\r\n\r\n    const handleSubmit = () => {\r\n        try{\r\n            dispatch(loginUser({username, password}))\r\n        }catch(error){\r\n            console.log(error)\r\n\r\n        }\r\n    }\r\n    return (\r\n    <form onSubmit={e => e.preventDefault()}>\r\n        <h1>\r\n            Авторизация\r\n        </h1>\r\n        <label>\r\n            Имя пользователя: \r\n            <input type = \"Username\" value={username} onChange={e => setUserName(e.target.value)} placeholder=\"Имя пользователя\">\r\n            </input>\r\n        </label>\r\n        <br/>\r\n        <label>\r\n            Пароль: \r\n            <input type = \"Password\" value={password} onChange={e => setPassword(e.target.value)}  placeholder=\"Пароль\">\r\n            </input>\r\n        </label>\r\n        <div>\r\n            <button type = \"submit\" onClick={handleSubmit}>\r\n                Войти\r\n            </button>\r\n            <Link to='/register'>Нет аккаунта?</Link>\r\n        </div>\r\n    </form>)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}