{"ast":null,"code":"import _slicedToArray from\"C:/Users/Artiem/source/repos/vscode/3 \\u043A\\u0443\\u0440\\u0441/Control Task/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{createPost}from'../redux/features/post/postSlice.js';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddPostPage=function AddPostPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var dispatch=useDispatch();var navigate=useNavigate();var submitHandler=function submitHandler(){try{var data=new FormData();data.append('title',title);data.append('text',text);data.append('image',image);dispatch(createPost(data));navigate('/');}catch(error){console.log(error);}};var clearFormHandler=function clearFormHandler(){setText('');setTitle('');};return/*#__PURE__*/_jsxs(\"form\",{className:\"w-1/3 mx-auto py-10\",onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-gray-300 py-2 bg-gray-600 text-xs mt-2 flex items-center justify-center border-2 border-dotted cursor-pointer\",children:[\"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0440\\u0431\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",onChange:function onChange(e){return setImage(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex object-cover py-2\",children:image&&/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(image),alt:image.name})}),/*#__PURE__*/_jsxs(\"label\",{className:\"text-xs text-white opacity-70\",children:[\"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u043F\\u043E\\u0441\\u0442\\u0430:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},placeholder:\"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\",className:\"mt-1 text-black w-full rounded-lg bg-gray-400 border py-1 px-2 text-xs outline-none placeholder:text-gray-700\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"text-xs text-white opacity-70\",children:[\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043F\\u043E\\u0441\\u0442\\u0430:\",/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return setText(e.target.value);},value:text,placeholder:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043F\\u043E\\u0441\\u0442\\u0430\",className:\"mt-1 text-black w-full rounded-lg bg-gray-400 border py-1 px-2 text-xs outline-none resize-none h-40 placeholder:text-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-8 items-center justify-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:submitHandler,className:\"flex justify-center items-center bg-gray-600 text-xs text-white rounded-sm py-2 px-4\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearFormHandler,className:\"flex justify-center items-center bg-red-500 text-xs text-white rounded-sm py-2 px-4\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})]});};","map":{"version":3,"names":["React","useState","useDispatch","createPost","useNavigate","jsx","_jsx","jsxs","_jsxs","AddPostPage","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","text","setText","_useState5","_useState6","image","setImage","dispatch","navigate","submitHandler","data","FormData","append","error","console","log","clearFormHandler","className","onSubmit","e","preventDefault","children","type","onChange","target","files","src","URL","createObjectURL","alt","name","value","placeholder","onClick"],"sources":["C:/Users/Artiem/source/repos/vscode/3 курс/Control Task/client/src/pages/AddPostPage.jsx"],"sourcesContent":["import React, {useState} from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { createPost } from '../redux/features/post/postSlice.js'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nexport const AddPostPage = () => {\r\n\r\n    const [title, setTitle] = useState('')\r\n    const [text, setText] = useState('')\r\n    const [image, setImage] = useState('')\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const submitHandler = () => {\r\n        try {\r\n            const data = new FormData()\r\n            data.append('title', title)\r\n            data.append('text', text)\r\n            data.append('image', image)\r\n            dispatch(createPost(data))\r\n            navigate('/')\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n    const clearFormHandler = () => {\r\n        setText('')\r\n        setTitle('')\r\n    }\r\n\r\n    return (\r\n        <form className='w-1/3 mx-auto py-10' onSubmit={(e) => e.preventDefault()}>\r\n            <label className='text-gray-300 py-2 bg-gray-600 text-xs mt-2 flex items-center justify-center border-2 border-dotted cursor-pointer'>\r\n                Прикрепить изорбажение:\r\n                <input type='file' className='hidden' onChange={(e) => setImage(e.target.files[0])}/> \r\n            </label >\r\n            <div className='flex object-cover py-2'>\r\n                {image && (\r\n                    <img src={URL.createObjectURL(image)} alt={image.name} />\r\n                )}\r\n            </div>\r\n\r\n            <label className='text-xs text-white opacity-70'>\r\n                Заголовок поста:\r\n                <input\r\n                    type='text'\r\n                    value={title}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    placeholder='Заголовок'\r\n                    className='mt-1 text-black w-full rounded-lg bg-gray-400 border py-1 px-2 text-xs outline-none placeholder:text-gray-700'\r\n                />\r\n            </label>\r\n\r\n            <label className='text-xs text-white opacity-70'>\r\n                Текст поста:\r\n                <textarea\r\n                    onChange={(e) => setText(e.target.value)}\r\n                    value={text}\r\n                    placeholder='Текст поста'\r\n                    className='mt-1 text-black w-full rounded-lg bg-gray-400 border py-1 px-2 text-xs outline-none resize-none h-40 placeholder:text-gray-700'\r\n                />\r\n            </label>\r\n\r\n            <div className='flex gap-8 items-center justify-center mt-4'>\r\n                <button\r\n                    onClick={submitHandler}\r\n                    className='flex justify-center items-center bg-gray-600 text-xs text-white rounded-sm py-2 px-4'\r\n                >\r\n                    Добавить\r\n                </button>\r\n\r\n                <button\r\n                    onClick={clearFormHandler}\r\n                    className='flex justify-center items-center bg-red-500 text-xs text-white rounded-sm py-2 px-4'\r\n                >\r\n                    Отменить\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n"],"mappings":"wKAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,UAAU,KAAQ,qCAAqC,CAChE,OAASC,WAAW,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CAE7B,IAAAC,SAAA,CAA0BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAwBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA0BlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAM,CAAAG,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAsB,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAqB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,GAAI,CACA,GAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC3BD,IAAI,CAACE,MAAM,CAAC,OAAO,CAAEf,KAAK,CAAC,CAC3Ba,IAAI,CAACE,MAAM,CAAC,MAAM,CAAEX,IAAI,CAAC,CACzBS,IAAI,CAACE,MAAM,CAAC,OAAO,CAAEP,KAAK,CAAC,CAC3BE,QAAQ,CAACpB,UAAU,CAACuB,IAAI,CAAC,CAAC,CAC1BF,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,MAAMK,KAAK,CAAC,CACTC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACJ,CAAC,CACD,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC3Bd,OAAO,CAAC,EAAE,CAAC,CACXJ,QAAQ,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACIN,KAAA,SAAMyB,SAAS,CAAC,qBAAqB,CAACC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAC,CAAAC,QAAA,eACtE7B,KAAA,UAAOyB,SAAS,CAAC,oHAAoH,CAAAI,QAAA,EAAC,kIAElI,cAAA/B,IAAA,UAAOgC,IAAI,CAAC,MAAM,CAACL,SAAS,CAAC,QAAQ,CAACM,QAAQ,CAAE,SAAAA,SAACJ,CAAC,QAAK,CAAAb,QAAQ,CAACa,CAAC,CAACK,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EACjF,CAAC,cACTnC,IAAA,QAAK2B,SAAS,CAAC,wBAAwB,CAAAI,QAAA,CAClChB,KAAK,eACFf,IAAA,QAAKoC,GAAG,CAAEC,GAAG,CAACC,eAAe,CAACvB,KAAK,CAAE,CAACwB,GAAG,CAAExB,KAAK,CAACyB,IAAK,CAAE,CAC3D,CACA,CAAC,cAENtC,KAAA,UAAOyB,SAAS,CAAC,+BAA+B,CAAAI,QAAA,EAAC,wFAE7C,cAAA/B,IAAA,UACIgC,IAAI,CAAC,MAAM,CACXS,KAAK,CAAElC,KAAM,CACb0B,QAAQ,CAAE,SAAAA,SAACJ,CAAC,QAAK,CAAArB,QAAQ,CAACqB,CAAC,CAACK,MAAM,CAACO,KAAK,CAAC,EAAC,CAC1CC,WAAW,CAAC,wDAAW,CACvBf,SAAS,CAAC,+GAA+G,CAC5H,CAAC,EACC,CAAC,cAERzB,KAAA,UAAOyB,SAAS,CAAC,+BAA+B,CAAAI,QAAA,EAAC,gEAE7C,cAAA/B,IAAA,aACIiC,QAAQ,CAAE,SAAAA,SAACJ,CAAC,QAAK,CAAAjB,OAAO,CAACiB,CAAC,CAACK,MAAM,CAACO,KAAK,CAAC,EAAC,CACzCA,KAAK,CAAE9B,IAAK,CACZ+B,WAAW,CAAC,+DAAa,CACzBf,SAAS,CAAC,gIAAgI,CAC7I,CAAC,EACC,CAAC,cAERzB,KAAA,QAAKyB,SAAS,CAAC,6CAA6C,CAAAI,QAAA,eACxD/B,IAAA,WACI2C,OAAO,CAAExB,aAAc,CACvBQ,SAAS,CAAC,sFAAsF,CAAAI,QAAA,CACnG,kDAED,CAAQ,CAAC,cAET/B,IAAA,WACI2C,OAAO,CAAEjB,gBAAiB,CAC1BC,SAAS,CAAC,qFAAqF,CAAAI,QAAA,CAClG,kDAED,CAAQ,CAAC,EACR,CAAC,EACJ,CAAC,CAEf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}